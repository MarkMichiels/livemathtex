---
phase: 28-sympy-removal
plan: 05
type: execute
---

<objective>
Uninstall SymPy and latex2sympy packages, clean up dependencies.

Purpose: Remove the packages entirely so they can't accidentally be imported.

Output: sympy and latex2sympy2 removed from project dependencies
</objective>

<execution_context>
~/.claude/get-shit-done/workflows/execute-phase.md
./summary.md
</execution_context>

<context>
@.planning/PROJECT.md
@pyproject.toml
@requirements.txt

**Depends on:** 28-04 complete (all code cleaned)
</context>

<tasks>

<task type="auto">
  <name>Task 1: Remove sympy from pyproject.toml</name>
  <files>pyproject.toml</files>
  <action>
Edit pyproject.toml to remove sympy and latex2sympy2 from dependencies:

In `[project.dependencies]` or `[tool.poetry.dependencies]`:
- Remove `sympy` line
- Remove `latex2sympy2` line

Keep all other dependencies (pint, click, markdown-it-py, pylatexenc, etc.)
  </action>
  <verify>grep -c "sympy" pyproject.toml returns 0</verify>
  <done>sympy removed from pyproject.toml</done>
</task>

<task type="auto">
  <name>Task 2: Remove from requirements.txt if exists</name>
  <files>requirements.txt</files>
  <action>
If requirements.txt exists, remove:
- `sympy`
- `latex2sympy2`

Keep all other requirements.
  </action>
  <verify>grep -c "sympy" requirements.txt returns 0 (or file doesn't exist)</verify>
  <done>sympy removed from requirements.txt</done>
</task>

<task type="auto">
  <name>Task 3: Verify no hidden sympy imports</name>
  <files>src/livemathtex/</files>
  <action>
Final check - search ENTIRE codebase for any remaining sympy:

```bash
grep -rn "sympy\|latex2sympy" src/livemathtex/ --include="*.py"
grep -rn "from sympy\|import sympy" . --include="*.py"
```

If anything found:
- If it's a test file: update test to not use sympy
- If it's production code: this is a bug - fix it
- If it's a comment: remove or update the comment
  </action>
  <verify>grep -rn "import sympy\|from sympy\|import latex2sympy\|from latex2sympy" src/ returns nothing</verify>
  <done>Zero sympy imports in entire codebase</done>
</task>

</tasks>

<verification>
Before declaring plan complete:
- [ ] pyproject.toml has no sympy dependencies
- [ ] `grep -rn "import sympy" src/` returns nothing
- [ ] `pip install -e .` works without sympy
</verification>

<success_criteria>
- sympy not in any dependency file
- latex2sympy2 not in any dependency file
- Package installs cleanly without sympy
</success_criteria>

<output>
After completion, create `.planning/phases/28-table-cell-parsing/28-05-SUMMARY.md`
</output>
